<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Global Migration — Interactive Visualisations</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css">
  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Allerta+Stencil&display=swap" rel="stylesheet">

  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .page { max-width: 1100px; margin: 0 auto; padding: 18px; }
    h1 { font-family: "Allerta Stencil", system-ui; letter-spacing: .5px; margin: 10px 0 0; text-align:center; }
    h2 { margin: 30px 0 10px; }
    .subtitle h2 { border-bottom: 2px solid #eee; padding-bottom: 6px; }
    .chartTitle { font-weight: 700; margin: 8px 0 6px; }
    .vis-container, .vis-container-left, .vis-container-right { background: #fff; }
    .description-left, .description-right { line-height: 1.45; }
    .intro { text-align:center; margin-top: 6px; opacity:.85; }
  </style>
</head>

<body>
  <div class="page">

    <h1>Global Migration</h1>
    <p class="intro">
      Australia’s migration patterns shape our economy, universities, and cities. 
      This page shows where people come from, how flows change over time, 
      and which visa types drive the shifts.
    </p>

    <div class="subsection">
      <div class="pure-g">
        <div class="pure-u-1-1 subtitle">
          <h2>Overview</h2>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-2">
          <div class="description-left">
            <p>Australia’s migration story has changed dramatically over the past two decades. 
            This dashboard explores three key questions: 
            <strong>Where do migrants come from?</strong> 
            <strong>How have migration levels changed over time?</strong> 
            <strong>What types of visas drive these flows?</strong>
            </p>
            <p>Tip: Use the sliders and hover to reveal exact values. 
            When comparing countries, the bar chart is best for rankings 
            while the map is best for geography.</p>
          </div>
        </div>
        <div class="pure-u-1-2">
          <div class="description-right">
            <p>Data comes from the Australian Bureau of Statistics time series, financial years 2004 to 2023. 
            Counts represent the number of people migrating. 
            Some categories were grouped for clarity. 
            Negative values appear when more people leave than arrive.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="subsection">
      <div class="pure-g">
        <div class="pure-u-1-1 subtitle">
          <h2>Where Migrants Go</h2>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-1">
          <p class="chartTitle">Migration Map</p>
          <div id="migration-map" class="vis-container"></div>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-2">
          <div class="description-left">
            <p>This interactive world map shows the number of migrants coming to Australia 
            from each country. Darker colours represent larger numbers. 
            Use the year slider to see how origins shift over time. 
            Hover over a country to see exact values.</p>
          </div>
        </div>
        <div class="pure-u-1-2">
          <div class="description-right">
            <p><strong>Key observations:</strong><br>
            1. placehoder.<br>
            2. placehoder.<br>
            3. placehoder.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="subsection">
      <div class="pure-g">
        <div class="pure-u-1-1 subtitle">
          <h2>How Migration Changes Over Time</h2>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-1">
          <p class="chartTitle">Timeline Of Migration</p>
          <div id="migration-timeline" class="vis-container"></div>
          <p style="text-align:center; font-size:12px; margin-top:6px">
            <b>How to interact:</b> Drag the slider to focus on a specific year. 
            Points and labels show values for that year. 
            Click a legend item (if available) to highlight that series.
          </p>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-2">
          <div class="description-left">
            <p>Net migration peaks in the late 2000s, dips slightly, then collapses during 2020–21 
            when borders closed. A strong rebound occurs in 2022–23. 
            Australian-born migration is often negative because more Australians leave than return.</p>
          </div>
        </div>
        <div class="pure-u-1-2">
          <div class="description-right">
            <p>Net migration = Arrivals − Departures. 
            Compare patterns rather than isolated spikes. 
            These are absolute counts, not per-capita values.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="subsection">
      <div class="pure-g">
        <div class="pure-u-1-1 subtitle">
          <h2>What Type Of Migration</h2>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-1">
          <p class="chartTitle">Migration By Type</p>
          <div id="migration-type" class="vis-container"></div>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-2">
          <div class="description-left">
            <p>This chart breaks migration into visa types. 
            Skilled visas include both permanent workers and temporary skilled placements. 
            Student visas cover higher education and vocational training. 
            Humanitarian visas reflect protection and refugee programs. 
            Other categories include working holiday, visitors, and miscellaneous temporary visas.</p>
          </div>
        </div>
        <div class="pure-u-1-2">
          <div class="description-right">
            <p>A stacked area chart shows both total volume and the share each visa type contributes. 
            Large swings around 2020 reflect policy changes and border closures rather than long-term trends. 
            If you want to compare proportions instead of totals, a normalised (percent) view is useful.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- New section: Top countries -->
    <div class="subsection">
      <div class="pure-g">
        <div class="pure-u-1-1 subtitle">
          <h2>Top Migrant Source Countries</h2>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-1">
          <p class="chartTitle">Top 10 Migrant Source Countries by Year</p>
          <div id="migration-countrychart" class="vis-container"></div>
          <p style="text-align:center; font-size:12px; margin-top:6px">
            Move the slider to see how the top countries change over time. 
            This bar chart highlights ranking and magnitude better than a map.
          </p>
        </div>
      </div>
    </div>

    <div class="subsection">
      <div class="pure-g">
        <div class="pure-u-1-1 subtitle">
          <h2>Summary</h2>
        </div>
      </div>

      <div class="pure-g">
        <div class="pure-u-1-2">
          <div class="description-left">
            <p>Australia’s migration is shaped by policy, global events, and labour demand. 
            Despite temporary declines like during COVID-19, long-term growth in student and skilled migration 
            has reshaped the country’s demographic profile.</p>
          </div>
        </div>
        <div class="pure-u-1-2">
          <div class="description-right">
            <p>Next questions to explore include how states differ, 
            which industries benefit most, and how policy settings influence visa composition. 
            Limitations: grouped categories and financial-year timing may hide smaller monthly shifts.</p>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script>
    // point these to your repo JSON files
    const MAP_SPEC = "migrationmap.json";
    const TIMELINE_SPEC = "migrationovertimeline.json";
    const TYPE_SPEC = "migrationtypechart.json";
    const COUNTRY_SPEC = "countrychart.json";

    vegaEmbed("#migration-map", MAP_SPEC, { actions: false }).catch(console.error);
    vegaEmbed("#migration-timeline", TIMELINE_SPEC, { actions: false }).catch(console.error);
    vegaEmbed("#migration-type", TYPE_SPEC, { actions: false }).catch(console.error);
    vegaEmbed("#migration-countrychart", COUNTRY_SPEC, { actions: false }).catch(console.error);
  </script>
</body>
</html>
